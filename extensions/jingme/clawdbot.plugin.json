{
  "id": "jingme",
  "channels": ["jingme"],
  "configSchema": {
    "type": "object",
    "properties": {
      "accounts": {
        "type": "object",
        "additionalProperties": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": true,
              "description": "Enable this account"
            },
            "appKey": {
              "type": "string",
              "description": "JingMe App Key (application identifier)"
            },
            "appSecret": {
              "type": "string",
              "description": "JingMe App Secret"
            },
            "robotId": {
              "type": "string",
              "description": "Robot ID for sending messages"
            },
            "environment": {
              "type": "string",
              "enum": ["prod", "test"],
              "default": "prod",
              "description": "API environment: prod (正式环境) or test (测试环境)"
            },
            "webhookPort": {
              "type": "number",
              "default": 3001,
              "description": "Port for webhook server"
            },
            "verificationToken": {
              "type": "string",
              "description": "Token for webhook event verification"
            },
            "dmPolicy": {
              "type": "string",
              "enum": ["open", "allowlist"],
              "default": "open",
              "description": "Direct message policy"
            },
            "dmAllowlist": {
              "type": "array",
              "items": { "type": "string" },
              "default": [],
              "description": "Allowlist for direct messages (PIN/user IDs)"
            },
            "groupPolicy": {
              "type": "string",
              "enum": ["open", "allowlist", "disabled"],
              "default": "open",
              "description": "Group message policy"
            },
            "groupAllowlist": {
              "type": "array",
              "items": { "type": "string" },
              "default": [],
              "description": "Allowlist for group messages (group IDs)"
            },
            "historyLimit": {
              "type": "number",
              "default": 10,
              "description": "Maximum number of historical messages to fetch"
            }
          },
          "required": ["appKey", "appSecret", "robotId"]
        }
      }
    }
  }
}
